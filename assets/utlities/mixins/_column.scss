@mixin column-base {
  box-sizing: border-box;
  flex: 1 0 auto;
  padding-right: 1rem;
  padding-left: 1rem;
  min-width: 0;
  min-height: 0;
  max-width: 100%;

  @supports (display: grid) {
    grid-column: 1 / -1;
  }

  &--auto {
    @supports (display: grid) {
      grid-column: auto;
    }
  }
}

@mixin columns($col, $columns: $grid-columns) {
  flex: 0 0 calc(100% - ((100% / #{$columns}) * (#{$columns} - #{$col})));
  max-width: calc(100% - ((100% / #{$columns}) * (#{$columns} - #{$col})));
  min-width: 0;
  min-height: 0;
  padding-right: 1rem;
  padding-left: 1rem;

  @supports (display: grid) {
    grid-column: span $col;
  }
}

@mixin dynamic-columns($size: null, $columns: $grid-columns) {
  @if ($size == null) {
    @for $i from 1 through $columns {
      &-#{$i} {
        @include columns(#{$i});
      }
    }
  } @else {
    @for $i from 1 through $columns {
      &-#{$size}-#{$i} {
        @include columns(#{$i});
      }
    }
  }
}
